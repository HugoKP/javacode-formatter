
<div CLASS="javacode" style="width:657px;">

<div class="linenumber">
000</br>001</br>002</br>003</br>004</br>005</br>006</br>007</br>008</br>009</br>010</br>011</br>012</br>013</br>014</br>015</br>016</br>017</br>018</br>019</br>020</br>021</br>022</br>023</br>024</br>025</br>026</br>027</br>028</br>029</br>030</br>031</br>032</br>033</br>034</br>035</br>036</br>037</br>038</br>039</br>040</br>041</br>042</br>043</br>044</br>045</br>046</br>047</br>048</br>049</br>050</br>051</br>052</br>053</br>054</br>055</br>056</br>057</br>058</br>059</br>060</br>061</br>062</br>063</br>064</br>065</br>066</br>067</br>068</br>069</br>070</br>071</br>072</br>073</br>074</br>075</br>076</br>077</br>078</br>079</br>080</br>081</br>082</br>083</br>084</br>085</br>086</br>087</br>088</br>089</br>090</br>091</br>092</br>093</br>094</br>095</br>096</br>097</br>098</br>099</br>100</br>101</br>102</br>103</br>104</br>105</br>106</br>107</br>108</br>109</br>110</br>111</br>112</br>113</br>114</br>115</br>116</br>117</br>118</br>119</br>120</br>121</br>122</br>123</br>124</br>125</br>126</br>127</br>128</br>129</br>130</br>131</br>132</br>133</br>134</br>135</br>136</br>137</br>138</br>139</br>140</br>141</br>142</br>143</br>144</br>145</br>146</br>147</br>148</br>149</br>150</br>151</br>152</br>153</br>154</br>155</br>156</br>157</br>158</br>159</br>160</br>161</br>162</br>163</br>164</br>165</br>166</br>167</br>168</br>169</br>170</br>171</br>172</br>173</br>174</br>175</br>176</br>177</br>178</br>179</br>180</br>181</br>182</br>183</br>184</br>185</br>186</br>187</br>188</br>189</br>190</br>191</br>192</br>193</br>194</br>195</br>196</br>197</br>198</br>199</br>200</br>201</br>202</br>203</br>204</br>205</br>206</br>207</br>208</br>209</br>210</br>211</br>212</br>213</br>214</br>215</br>216</br>217</br>218</br>219</br>220</br>221</br>222</br>223</br>224</br>225</br>226</br>227</br>228</br>229</br>230</br>231</br>232</br>233</br>234</br>235</br>236</br>237</br>238</br>239</br>240</br>241</br>242</br>243</br>244</br>245</br>246</br>247</br>248</br>249</br>250</br>251</br>252</br>253</br>254</br>255</br>256</br>257</br>258</br>259</br>260</br>261</br>262</br>263</br>264</br>265</br>266</br>267</br>268</br>269</br>270</br>271</br>272</br>273</br>274</br>275</br>276</br>277</br>278</br>279</br>280</br>281</br>282</br>283</br>284</br>285</br>286</br>287</br>288</br>289</br>290</br>291</br>292</br>293</br>
</div>
<pre><code>
<span class="xw52fz_reserved">package</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>;

<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">LiteralChar</span>;
<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">ClassName</span>;
<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">Comment</span>;
<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">Constant</span>;
<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">Elements</span>;
<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">Function</span>;
<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">LiteralString</span>;
<span class="xw52fz_reserved">import</span> br.com.hkp.<span class="xw52fz_classname">JavaCodeFormatter</span>.elements.<span class="xw52fz_classname">Reserved</span>;
<span class="xw52fz_reserved">import</span> java.io.<span class="xw52fz_classname">BufferedReader</span>;
<span class="xw52fz_reserved">import</span> java.io.<span class="xw52fz_classname">BufferedWriter</span>;
<span class="xw52fz_reserved">import</span> java.io.<span class="xw52fz_classname">File</span>;
<span class="xw52fz_reserved">import</span> java.io.<span class="xw52fz_classname">FileReader</span>;
<span class="xw52fz_reserved">import</span> java.io.<span class="xw52fz_classname">FileWriter</span>;
<span class="xw52fz_reserved">import</span> java.io.<span class="xw52fz_classname">IOException</span>;
<span class="xw52fz_reserved">import</span> java.nio.charset.<span class="xw52fz_classname">StandardCharsets</span>;
<span class="xw52fz_reserved">import</span> javax.swing.<span class="xw52fz_classname">JFileChooser</span>;
<span class="xw52fz_reserved">import</span> javax.swing.<span class="xw52fz_classname">UIManager</span>;

<span class="xw52fz_comment">/**
 *
 * @author none
 */</span>
<span class="xw52fz_reserved">public</span> <span class="xw52fz_reserved">class</span> <span class="xw52fz_classname">JavaSource2Html</span>
{
    <span class="xw52fz_reserved">private</span> <span class="xw52fz_reserved">static</span> <span class="xw52fz_reserved">final</span> <span class="xw52fz_classname">String</span> <span class="xw52fz_constant">ASPAS</span> = <span class="xw52fz_literalstring">"\uff02"</span>;
    <span class="xw52fz_reserved">private</span> <span class="xw52fz_reserved">static</span> <span class="xw52fz_reserved">final</span> <span class="xw52fz_classname">String</span> <span class="xw52fz_constant">ASPAS_IN_STRING</span> = <span class="xw52fz_literalstring">"\\\""</span>;
    <span class="xw52fz_reserved">private</span> <span class="xw52fz_reserved">static</span> <span class="xw52fz_reserved">final</span> <span class="xw52fz_classname">String</span> <span class="xw52fz_constant">ASPAS_IN_CHAR</span> = <span class="xw52fz_literalstring">"'\"'"</span>;
    <span class="xw52fz_reserved">private</span> <span class="xw52fz_reserved">static</span> <span class="xw52fz_reserved">final</span> <span class="xw52fz_classname">String</span> <span class="xw52fz_constant">FAKE_ASPAS_IN_STRING</span> = <span class="xw52fz_literalstring">"\\" + ASPAS;
    private static final String FAKE_ASPAS_IN_CHAR = "</span>'<span class="xw52fz_literalstring">" + ASPAS + "</span>'<span class="xw52fz_literalstring">";
    
    <span class="xw52fz_comment">/*
    Quantas linhas foram lidas do arquivo com o codigo fonte java
    */</span>
    private int countLinesReaded;
    
    <span class="xw52fz_comment">/*
    buffer para otimizar processos de leitura e gravacao
    */</span>
    private final int buffer;
    
    <span class="xw52fz_comment">/*
    Arquivo que serah lido e arquivo que sera gravado
    */</span>
    private final File inputFile;
    private final File outputFile;
    
    private final LiteralChar literalChar;
    private final ClassName className;
    private final Comment comment;
    private final Constant constant;
    private final Function function;
    private final LiteralString literalString;
    private final Reserved reserved;
    
    <span class="xw52fz_comment">/*[00]---------------------------------------------------------------------
    
    -------------------------------------------------------------------------*/</span>
    <span class="xw52fz_comment">/**
     * Configura os textos do objeto FileChooser para Portugues
     * 
     * @param title Um titulo para a janela
     */</span>
    private static void fileChooserSettings(String title)
    {
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.openDialogTitleText<span class="xw52fz_literalstring">", title);
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.lookInLabelText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Selecionar</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.openButtonText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Abrir</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.cancelButtonText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Cancelar</span><span class="xw52fz_literalstring">");
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.fileNameLabelText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Nome</span> <span class="xw52fz_reserved">do</span> <span class="xw52fz_classname">Arquivo</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.filesOfTypeLabelText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Tipo</span> de <span class="xw52fz_classname">Arquivo</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.folderNameLabelText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Selecionado</span><span class="xw52fz_literalstring">"); 
        UIManager.put
        (
            "</span><span class="xw52fz_classname">FileChooser</span>.openButtonToolTipText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Abrir</span> o <span class="xw52fz_classname">Arquivo</span> <span class="xw52fz_classname">Selecionado</span><span class="xw52fz_literalstring">"
        ); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.cancelButtonToolTipText<span class="xw52fz_literalstring">","</span><span class="xw52fz_classname">Cancelar</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.fileNameHeaderText<span class="xw52fz_literalstring">","</span><span class="xw52fz_classname">Nome</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.upFolderToolTipText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Acima</span><span class="xw52fz_literalstring">");
        UIManager.put
        (
            "</span><span class="xw52fz_classname">FileChooser</span>.homeFolderToolTipText<span class="xw52fz_literalstring">",
            "</span>\u00c1rea de <span class="xw52fz_classname">Trabalho</span><span class="xw52fz_literalstring">"
        ); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.newFolderToolTipText<span class="xw52fz_literalstring">","</span><span class="xw52fz_classname">Nova</span> <span class="xw52fz_classname">Pasta</span><span class="xw52fz_literalstring">");
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.listViewButtonToolTipText<span class="xw52fz_literalstring">","</span><span class="xw52fz_classname">Lista</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.newFolderButtonText<span class="xw52fz_literalstring">","</span><span class="xw52fz_classname">Nova</span> <span class="xw52fz_classname">Pasta</span><span class="xw52fz_literalstring">"); 
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.renameFileButtonText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Renomear</span><span class="xw52fz_literalstring">");
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.deleteFileButtonText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Eliminar</span><span class="xw52fz_literalstring">");
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.filterLabelText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Tipo</span><span class="xw52fz_literalstring">");
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.detailsViewButtonToolTipText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Detalhes</span><span class="xw52fz_literalstring">");
        UIManager.put("</span><span class="xw52fz_classname">FileChooser</span>.fileSizeHeaderText<span class="xw52fz_literalstring">","</span><span class="xw52fz_classname">Tamanho</span><span class="xw52fz_literalstring">"); 
        UIManager.put
        (
            "</span><span class="xw52fz_classname">FileChooser</span>.fileDateHeaderText<span class="xw52fz_literalstring">", 
            "</span><span class="xw52fz_classname">Data</span> de <span class="xw52fz_classname">Altera</span>\u00e7\u00e3o.<span class="xw52fz_literalstring">");
        UIManager.put
        (
            "</span><span class="xw52fz_classname">FileChooser</span>.acceptAllFileFilterText<span class="xw52fz_literalstring">", "</span><span class="xw52fz_classname">Diret</span>\u00f3rio<span class="xw52fz_literalstring">"
        );
    }#[10]    
    <span class="xw52fz_comment">/*[00]---------------------------------------------------------------------
    
    -------------------------------------------------------------------------*/</span>
    <span class="xw52fz_comment">/**
     * Construtor da classe.
     * 
     * @param file O arquivo que deve ser processado
     * 
     * @throws java.io.IOException
     */</span>
    public JavaSource2Html(final File file) throws IOException
    {
      
        inputFile = file;
        
        String absoluteFileName = inputFile.getAbsolutePath();
        
        buffer = (int)inputFile.length();
       
        outputFile = new File(absoluteFileName.replace("</span>.java<span class="xw52fz_literalstring">","</span>.html<span class="xw52fz_literalstring">"));
          
        countLinesReaded = 0;
        
        literalChar = new LiteralChar();
        className = new ClassName();
        comment = new Comment();
        constant = new Constant();
        function = new Function();
        literalString = new LiteralString();
        reserved = new Reserved();
      
    }#[1]    
   
    
    #[17]
    private int getNumberOfDigits(int number)
    {
        int digits = 1;
        while ((number = (number/10)) != 0) digits++;
        return digits;
    }#[11]    
    <span class="xw52fz_comment">/*[02]---------------------------------------------------------------------
    
    -------------------------------------------------------------------------*/</span>
    #[19]
    public void readFile() throws IOException
    {
           
        BufferedReader htmlFile = 
            new BufferedReader
            (
                new FileReader(inputFile, StandardCharsets.UTF_8), buffer
            );
        
        StringBuilder content = new StringBuilder(buffer);
        
        String line;
        
        while ((line = htmlFile.readLine()) != null)
        {
            countLinesReaded++;
            content.append(line).append("</span>\n<span class="xw52fz_literalstring">");
        }
        
        countLinesReaded = countLinesReaded + 3;
        
        htmlFile.close();
        
        Elements.editedContent = 
            content.toString().replace("</span>&amp;<span class="xw52fz_literalstring">", "</span>&amp;amp;<span class="xw52fz_literalstring">").
            replace("</span>&lt;<span class="xw52fz_literalstring">", "</span>&amp;lt;<span class="xw52fz_literalstring">").replace("</span>&gt;<span class="xw52fz_literalstring">", "</span>&amp;gt;<span class="xw52fz_literalstring">").
            replace(ASPAS_IN_STRING, FAKE_ASPAS_IN_STRING).
            replace(ASPAS_IN_CHAR, FAKE_ASPAS_IN_CHAR);
        
             
    }#[18]    
     <span class="xw52fz_comment">/*[03]---------------------------------------------------------------------
        
    -------------------------------------------------------------------------*/</span>
    #[0]
    public void createNewFile() throws IOException
    {
        BufferedWriter htmlFile = 
            new BufferedWriter
            (
                new FileWriter(outputFile, StandardCharsets.UTF_8), buffer
            );
        
        int padding = getNumberOfDigits(countLinesReaded);
        
                
        StringBuilder lineNumbers = 
            new StringBuilder(padding * countLinesReaded + 1000);
        
        lineNumbers.append("</span>\n&lt;div <span class="xw52fz_reserved">class</span>=\"linenumber\"&gt;\n<span class="xw52fz_literalstring">");
        
        for (int line = 0; line &lt;= countLinesReaded; line++)
            lineNumbers.append(String.format("</span>%0<span class="xw52fz_literalstring">" + padding + "</span>d&lt;/br&gt;<span class="xw52fz_literalstring">", line));
     
        lineNumbers.append("</span>\n&lt;/div&gt;\n<span class="xw52fz_literalstring">");
      
        
        comment.map();
        literalString.map();
        literalChar.map();
        reserved.map();
        className.map();
        constant.map();
        function.map();
        
              
        for(String mark: Elements.MAP.keySet())
            Elements.editedContent = 
                Elements.editedContent.replace(mark, Elements.MAP.get(mark));
            
        
        Elements.editedContent =
            "</span>&lt;pre&gt;&lt;code&gt;\n<span class="xw52fz_literalstring">" + 
            Elements.editedContent.replace(FAKE_ASPAS_IN_STRING, ASPAS_IN_STRING).
            replace(FAKE_ASPAS_IN_CHAR, ASPAS_IN_CHAR) +
            "</span>\n&lt;/code&gt;&lt;/pre&gt;<span class="xw52fz_literalstring">";
            
         htmlFile.write
        (
            "</span>\n&lt;div <span class="xw52fz_constant">CLASS</span>=\"javacode\" style=\"width:<span class="xw52fz_literalstring">" +
            (630 + padding * 9) +
            "</span>px;\"&gt;\n<span class="xw52fz_literalstring">" +
            lineNumbers.toString() +
            Elements.editedContent +
            "</span>\n&lt;/div&gt;<span class="xw52fz_literalstring">"
        );
        
        htmlFile.close();
        
         
    }#[12]    
    <span class="xw52fz_comment">/*[04]---------------------------------------------------------------------
    
    -------------------------------------------------------------------------*/</span>
    public static void main(String[] args)
    {
        fileChooserSettings("</span><span class="xw52fz_classname">Selecione</span>");
        
        <span class="xw52fz_classname">JFileChooser</span> fc = <span class="xw52fz_reserved">new</span> <span class="xw52fz_classname">JFileChooser</span>();
        
        fc.<span class="xw52fz_function">setFileSelectionMode</span>(<span class="xw52fz_classname">JFileChooser</span>.<span class="xw52fz_constant">FILES_ONLY</span>);

        <span class="xw52fz_reserved">int</span> res = fc.<span class="xw52fz_function">showOpenDialog</span>(<span class="xw52fz_reserved">null</span>);
        
       
        <span class="xw52fz_reserved">if</span>(res == <span class="xw52fz_classname">JFileChooser</span>.<span class="xw52fz_constant">APPROVE_OPTION</span>)
        {
            <span class="xw52fz_classname">File</span> file = fc.<span class="xw52fz_function">getSelectedFile</span>();
            
            <span class="xw52fz_reserved">try</span>
            {
                <span class="xw52fz_classname">JavaSource2Html</span> j = <span class="xw52fz_reserved">new</span> <span class="xw52fz_classname">JavaSource2Html</span>(file);
                j.<span class="xw52fz_function">readFile</span>();
                j.<span class="xw52fz_function">createNewFile</span>();
            }
            <span class="xw52fz_reserved">catch</span> (<span class="xw52fz_classname">IOException</span> ex)
            {
                <span class="xw52fz_classname">System</span>.err.<span class="xw52fz_function">println</span>(ex);
            }
           
        }<span class="xw52fz_comment">//if
</span>    
       
    }<span class="xw52fz_comment">//main()
</span>    
}<span class="xw52fz_comment">//classe JavaSource2Html
</span>

</code></pre>
</div>
